<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="com.spring.mapper.forum_replyMapper">
 
 
 	<!-- 댓글등록 -->
  	<insert id="enrollReply">
  	
  		insert into forum_reply(forum_no, forum_mk, forum_content, forum_rating) values(#{forum_no}, #{forum_mk}, #{forum_content}, #{forum_rating})
  	
  	</insert>
 
 
 	<!-- 댓글 페이징 -->
  	<select id="getForumReplyList" resultType="com.spring.model.forum_replyDTO">
		  		
		select forum_replyId, forum_no, forum_mk, forum_content, forum_rating, forum_regDate
		from forum_reply
		where forum_no = #{forum_no}
		order by forum_regDate desc  		
  		limit #{skip}, #{amount}
  		
  	</select>
  	
  	<select id="getForumReplyTotal" resultType="int">
  	
  		select count(*)
  		from forum_reply
  		where forum_no = #{forum_no}
  	
  	</select>
  	
  	<!-- 댓글수정 -->
  	<update id="updateReply">
  	
  		update forum_reply set forum_content = #{forum_content}, forum_rating = #{forum_rating}
  		where forum_replyId = #{forum_replyId}
  		
  	</update>
  	
  	<!-- 댓글정보 가져오기 -->
  	<select id="getUpdateReply" resultType="com.spring.model.forum_replyDTO">
	
		select * from forum_reply
		where forum_replyId = #{forum_replyId}
		
	</select>
	
	<!-- 댓글 삭제 -->
  	<delete id="deleteReply">
  	
  		DELETE FROM forum_reply
  		WHERE forum_replyId = #{forum_replyId}
  		
  	</delete>
 
  </mapper>